# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–∂–µ—Ç–æ–≤ (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤)

**–í–µ—Ä—Å–∏—è**: 1.1  
**–î–∞—Ç–∞**: 24.01.2026  
**–°—Ç–∞—Ç—É—Å**: Development Guide  
**–û–±–ª–∞—Å—Ç—å**: –¢–æ–ª—å–∫–æ –≤–∏–¥–∂–µ—Ç—ã (–±–µ–∑ save/load –∏ backend)

---

## –û–±–∑–æ—Ä

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã –≤–∏–¥–∂–µ—Ç–æ–≤ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –º–Ω–µ–º–æ—Å—Ö–µ–º. –í–∏–¥–∂–µ—Ç—ã - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–∫–Ω–æ–ø–∫–∏, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, –¥–∏—Å–ø–ª–µ–∏), –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö.

**–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ —ç—Ç—É —Ñ–∞–∑—É:**
- –°–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–æ–≤
- –†–∞–∑–º–µ—â–µ–Ω–∏–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º (–≤ –ø–∞–º—è—Ç–∏, –±–µ–∑ save)
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

**–ß—Ç–æ –ù–ï –≤—Ö–æ–¥–∏—Ç:**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ JSON (–æ—Ç–¥–µ–ª—å–Ω–∞—è —Ñ–∞–∑–∞)
- Backend, MQTT, WebSocket (–æ—Ç–¥–µ–ª—å–Ω–∞—è —Ñ–∞–∑–∞)

---

## 1. –î–û–ë–ê–í–õ–ï–ù–ò–ï –í–ò–î–ñ–ï–¢–û–í

### –°–ø–æ—Å–æ–±: –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é (–ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é)

–ü—Ä–∏ –ø—Ä–∞–≤–æ–º –∫–ª–∏–∫–µ –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é –ø–æ—è–≤–ª—è–µ—Ç—Å—è –º–µ–Ω—é —Å –æ–ø—Ü–∏—è–º–∏.

### –í–æ–ø—Ä–æ—Å: –í—ã–¥–µ–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–û—Ç–≤–µ—Ç: –ë–ï–ó –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è**

–ü—Ä–∏—á–∏–Ω—ã:
- –ü–ö–ú —É–∂–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- –í—ã–¥–µ–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –ø–æ–º–µ—à–∞—Ç—å –≤–∏–¥–µ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –ú–µ–Ω—é –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
```
1. –ü–ö–ú –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
2. –ú–µ–Ω—é –ø–æ—è–≤–ª—è–µ—Ç—Å—è
3. –í—ã–±—Ä–∞—Ç—å "–î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–∂–µ—Ç" ‚Üí —Ç–∏–ø
4. –í–∏–¥–∂–µ—Ç —Å–æ–∑–¥–∞–Ω, –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –≤—ã–±—Ä–∞–Ω
5. –ü–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ –æ—Ç–∫—Ä—ã—Ç–∞ —Å–ø—Ä–∞–≤–∞
```

**–í–∏–¥–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è**, –Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è –Ω–µ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–º.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ–Ω—é

```
–ü–ö–ú –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
‚îî‚îÄ‚îÄ –î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–∂–µ—Ç ‚ñ∂
    ‚îú‚îÄ‚îÄ üîò –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å (toggle)
    ‚îú‚îÄ‚îÄ üí° –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä (led)
    ‚îú‚îÄ‚îÄ üìä –ß–∏—Å–ª–æ–≤–æ–π –¥–∏—Å–ø–ª–µ–π (number-display)
    ‚îú‚îÄ‚îÄ üìù –¢–µ–∫—Å—Ç–æ–≤—ã–π –¥–∏—Å–ø–ª–µ–π (text-display)
    ‚îú‚îÄ‚îÄ üéöÔ∏è –ü–æ–ª–∑—É–Ω–æ–∫ (slider)
    ‚îú‚îÄ‚îÄ üìà –ú–∞–Ω–æ–º–µ—Ç—Ä (gauge)
    ‚îú‚îÄ‚îÄ üî¢ –ß–∏—Å–ª–æ–≤–æ–µ –ø–æ–ª–µ (number-input)
    ‚îú‚îÄ‚îÄ üìã –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ (text-input)
    ‚îî‚îÄ‚îÄ üîò –ö–Ω–æ–ø–∫–∞ (button)
‚îú‚îÄ‚îÄ‚îÄ –°–≤–æ–π—Å—Ç–≤–∞
‚îú‚îÄ‚îÄ‚îÄ –£–¥–∞–ª–∏—Ç—å
‚îî‚îÄ‚îÄ‚îÄ –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å
```

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

```javascript
// image-manager.js
setupImageContextMenu(imageNode, imageId) {
  imageNode.on('contextmenu', (e) => {
    e.evt.preventDefault();
    
    const menu = [
      {
        label: '–î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–∂–µ—Ç',
        submenu: [
          { label: 'üîò –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å', type: 'toggle' },
          { label: 'üí° –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä', type: 'led' },
          { label: 'üìä –ß–∏—Å–ª–æ–≤–æ–π –¥–∏—Å–ø–ª–µ–π', type: 'number-display' },
          { label: 'üìù –¢–µ–∫—Å—Ç–æ–≤—ã–π –¥–∏—Å–ø–ª–µ–π', type: 'text-display' },
          { label: 'üéöÔ∏è –ü–æ–ª–∑—É–Ω–æ–∫', type: 'slider' },
          { label: 'üìà –ú–∞–Ω–æ–º–µ—Ç—Ä', type: 'gauge' },
          { label: 'üî¢ –ß–∏—Å–ª–æ–≤–æ–µ –ø–æ–ª–µ', type: 'number-input' },
          { label: 'üìã –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ', type: 'text-input' },
          { label: 'üîò –ö–Ω–æ–ø–∫–∞', type: 'button' }
        ],
        onSelect: (type) => this.createWidgetOnImage(imageId, type)
      },
      { separator: true },
      {
        label: '–°–≤–æ–π—Å—Ç–≤–∞',
        onClick: () => propertiesPanel.showImageProperties(imageId)
      },
      {
        label: '–£–¥–∞–ª–∏—Ç—å',
        onClick: () => this.deleteImage(imageId)
      },
      {
        label: '–î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å',
        onClick: () => this.duplicateImage(imageId)
      }
    ];
    
    contextMenu.show(menu, e.evt.clientX, e.evt.clientY);
  });
}

createWidgetOnImage(imageId, widgetType) {
  const image = this.getImage(imageId);
  
  // –°–æ–∑–¥–∞—Ç—å –≤ —Ü–µ–Ω—Ç—Ä–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  const widget = widgetManager.create({
    type: widgetType,
    imageId: imageId,
    x: image.x + image.width / 2,
    y: image.y + image.height / 2,
    width: 80,
    height: 30
  });
  
  // –í–∏–¥–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±—Ä–∞–Ω
  selectionManager.select(widget);
  
  // –ü–æ–∫–∞–∑–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞
  propertiesPanel.show(widget);
}
```

---

## 2. –ù–ê–ë–û–† –í–ò–î–ñ–ï–¢–û–í (–ü–û–õ–ù–ê–Ø –°–ü–ï–¶–ò–§–ò–ö–ê–¶–ò–Ø)

### –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

**–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Ç—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**

1. **DISPLAY (—Ç–æ–ª—å–∫–æ –≤—ã–≤–æ–¥, read-only R)** - –Ω–µ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–∏–≤—è–∑–∫–∏ –∫ input
2. **INPUT (—Ç–æ–ª—å–∫–æ –≤–≤–æ–¥, write-only W)** - —Ç—Ä–µ–±—É—é—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
3. **CONTROL (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, RW)** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Å —Ñ–∏–¥–±–µ–∫–æ–º

**–ö–∞–∂–¥—ã–π —Ç–∏–ø = –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å** —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π, —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º –∏ –ª–æ–≥–∏–∫–æ–π.

### –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö 9 —Ç–∏–ø–æ–≤

#### –ö–ê–¢–ï–ì–û–†–ò–Ø 1: DISPLAY (–∏–Ω–¥–∏–∫–∞—Ü–∏—è, 4 —Ç–∏–ø–∞)

| –¢–∏–ø | ID | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | R/W | –ì–¥–µ –≤–∏–¥–Ω–æ | –í–∞–ª–∏–¥–∞—Ü–∏—è |
|-----|----|-----------|-----|-----------|-----------|
| –ß–∏—Å–ª–æ–≤–æ–π –¥–∏—Å–ø–ª–µ–π | number-display | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–∏—Å–ª–∞ —Å –µ–¥–∏–Ω–∏—Ü–µ–π | R | –ü–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ | decimals, unit |
| –¢–µ–∫—Å—Ç–æ–≤—ã–π –¥–∏—Å–ø–ª–µ–π | text-display | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ (—Å—Ç–∞—Ç—É—Å) | R | –ü–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç | format |
| –°–≤–µ—Ç–æ–¥–∏–æ–¥ (LED) | led | –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä on/off (–∫—Ä—É–≥ –∑–µ–ª—ë–Ω—ã–π/—Å–µ—Ä—ã–π) | R | –ú–∞–ª–µ–Ω—å–∫–∏–π –∫—Ä—É–≥ –Ω–∞ —Å—Ö–µ–º–µ | colorOn/colorOff |
| –ú–∞–Ω–æ–º–µ—Ç—Ä | gauge | –°—Ç—Ä–µ–ª–æ—á–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è | R | –ö—Ä—É–≥–ª—ã–π —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç | min, max, unit |

#### –ö–ê–¢–ï–ì–û–†–ò–Ø 2: INPUT (–≤–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö, 2 —Ç–∏–ø–∞)

| –¢–∏–ø | ID | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | R/W | –ì–¥–µ –≤–∏–¥–Ω–æ | –í–∞–ª–∏–¥–∞—Ü–∏—è |
|-----|----|-----------|-----|-----------|-----------|
| –ß–∏—Å–ª–æ–≤–æ–µ –ø–æ–ª–µ | number-input | –í–≤–æ–¥ —á–∏—Å–ª–∞ —Å min/max | W | –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –Ω–∞ —Å—Ö–µ–º–µ | min, max, step |
| –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ | text-input | –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ (–∏–º—è, –ø–∞—Ä–æ–ª—å) | W | –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –Ω–∞ —Å—Ö–µ–º–µ | maxLength, pattern |

#### –ö–ê–¢–ï–ì–û–†–ò–Ø 3: CONTROL (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, 3 —Ç–∏–ø–∞)

| –¢–∏–ø | ID | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | R/W | –ì–¥–µ –≤–∏–¥–Ω–æ | –ü–æ–≤–µ–¥–µ–Ω–∏–µ |
|-----|----|-----------|-----|-----------|-----------|
| –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å | toggle | –í–∫–ª/–í—ã–∫–ª —Å —Ñ–∏–¥–±–µ–∫–æ–º | RW | –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ ON/OFF | –ú–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–æ–≤–æ–µ |
| –ö–Ω–æ–ø–∫–∞ | button | –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É | W | –ö–Ω–æ–ø–∫–∞ –Ω–∞ —Å—Ö–µ–º–µ | –ö–ª–∏–∫ = –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã –æ–¥–∏–Ω —Ä–∞–∑ |
| –ü–æ–ª–∑—É–Ω–æ–∫ | slider | –í—ã–±—Ä–∞—Ç—å —á–∏—Å–ª–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ–º | RW | –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ø–æ–ª–æ—Å–∞ | –§–∏–¥–±–µ–∫ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ |

### –í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–¥–µ

```javascript
// widget-types.js
const WIDGET_DEFAULTS = {
  // DISPLAY
  'number-display': {
    width: 100,
    height: 30,
    fontSize: 16,
    color: '#000000',
    backgroundColor: '#f5f5f5',
    decimals: 1,
    unit: '',
    readonly: true
  },
  'text-display': {
    width: 120,
    height: 25,
    fontSize: 14,
    color: '#000000',
    backgroundColor: '#f5f5f5',
    text: 'Label',
    readonly: true
  },
  'led': {
    width: 40,
    height: 40,
    radius: 20,
    colorOff: '#cccccc',
    colorOn: '#4caf50',
    colorBorder: '#999999',
    borderWidth: 2,
    readonly: true
  },
  'gauge': {
    width: 80,
    height: 80,
    min: 0,
    max: 100,
    unit: '',
    readonly: true
  },
  
  // INPUT
  'number-input': {
    width: 100,
    height: 30,
    fontSize: 14,
    min: 0,
    max: 100,
    step: 1,
    unit: '',
    borderColor: '#2196F3',
    writeonly: true
  },
  'text-input': {
    width: 120,
    height: 30,
    fontSize: 14,
    maxLength: 50,
    pattern: '',
    placeholder: '–í–≤–µ–¥–∏—Ç–µ',
    borderColor: '#2196F3',
    writeonly: true
  },
  
  // CONTROL
  'toggle': {
    width: 50,
    height: 30,
    fontSize: 12,
    colorOn: '#4caf50',
    colorOff: '#cccccc',
    onLabel: 'ON',
    offLabel: 'OFF',
    borderRadius: 4
  },
  'button': {
    width: 80,
    height: 36,
    fontSize: 14,
    label: '–ù–∞–∂–∞—Ç—å',
    backgroundColor: '#2196F3',
    textColor: '#ffffff',
    hoverColor: '#1976D2'
  },
  'slider': {
    width: 150,
    height: 40,
    fontSize: 12,
    min: 0,
    max: 100,
    step: 1,
    trackColor: '#ccc',
    thumbColor: '#2196F3',
    labelPosition: 'top'
  }
};
```

---

## 3. –ê–†–•–ò–¢–ï–ö–¢–£–†–ê: DISPLAY vs INPUT vs CONTROL

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è

**–ö–∞–∂–¥–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∏–º–µ–µ—Ç —Å–≤–æ—é –ª–æ–≥–∏–∫—É:**

```javascript
// base-widget.js
class Widget {
  constructor(config) {
    this.id = config.id;
    this.type = config.type;
    this.x = config.x;
    this.y = config.y;
    this.width = config.width;
    this.height = config.height;
    this.bindingId = config.bindingId || null;
  }
  
  getCategory() {
    const displayTypes = ['number-display', 'text-display', 'led', 'gauge'];
    const inputTypes = ['number-input', 'text-input'];
    const controlTypes = ['toggle', 'button', 'slider'];
    
    if (displayTypes.includes(this.type)) return 'display';
    if (inputTypes.includes(this.type)) return 'input';
    if (controlTypes.includes(this.type)) return 'control';
  }
}

// display-widget.js
class DisplayWidget extends Widget {
  constructor(config) {
    super(config);
    this.isReadOnly = true;
  }
  
  onValueUpdate(newValue) {
    // DISPLAY —Ç–æ–ª—å–∫–æ –ø–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç
    // –û–±–Ω–æ–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é
    this.render(newValue);
  }
  
  validate(value) {
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø (—Ñ–æ—Ä–º–∞—Ç, decimals, unit)
    // –ù–µ –≤–∞–ª–∏–¥–∞—Ü–∏—è –í–í–û–î–ê
    return this.formatValue(value);
  }
}

// input-widget.js
class InputWidget extends Widget {
  constructor(config) {
    super(config);
    this.isWriteOnly = true;
  }
  
  onUserInput(value) {
    // INPUT –ø–æ–ª—É—á–∞–µ—Ç –≤–≤–æ–¥ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    // –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–≥–æ
    this.validate(value);
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
    this.sendCommand(value);
  }
  
  validate(value) {
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –í–í–û–î–ê (min/max, length, pattern)
    // –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
    if (!this.isValid(value)) {
      throw new Error(`Invalid input: ${value}`);
    }
  }
}

// control-widget.js
class ControlWidget extends Widget {
  constructor(config) {
    super(config);
    this.isRW = true;
  }
  
  onUserAction(action) {
    // CONTROL –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏ –ø–æ–ª—É—á–∞–µ—Ç
    this.sendCommand(action);
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    this.updateState(action);
  }
  
  updateState(newState) {
    // –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π —Ñ–∏–¥–±–µ–∫
    this.render(newState);
  }
}
```

---

## 4. –ü–ê–ù–ï–õ–¨ –°–í–û–ô–°–¢–í –í–ò–î–ñ–ï–¢–ê

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     –°–í–û–ô–°–¢–í–ê –í–ò–î–ñ–ï–¢–ê                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚ñº –û–±—â–∏–µ                             ‚îÇ
‚îÇ   ID: widget_temp_1                 ‚îÇ
‚îÇ   –¢–∏–ø: –ß–∏—Å–ª–æ–≤–æ–π –¥–∏—Å–ø–ª–µ–π            ‚îÇ
‚îÇ   –ö–∞—Ç–µ–≥–æ—Ä–∏—è: Display (R)            ‚îÇ
‚îÇ   –ù–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏: –ù–∞—Å–æ—Å (img_pump_1)‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ ‚ñº –ü–æ–∑–∏—Ü–∏—è –∏ —Ä–∞–∑–º–µ—Ä                  ‚îÇ
‚îÇ   X: [150]  Y: [50]                ‚îÇ
‚îÇ   –®–∏—Ä–∏–Ω–∞: [80]  –í—ã—Å–æ—Ç–∞: [30]       ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ ‚ñº –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ                        ‚îÇ
‚îÇ   –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞: [14] px           ‚îÇ
‚îÇ   –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞: [#000000] [–≤—ã–±—Ä–∞—Ç—å] ‚îÇ
‚îÇ   –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ: [—Ü–µ–Ω—Ç—Ä ‚ñº]          ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ ‚ñº –ü—Ä–∏–≤—è–∑–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞               ‚îÇ
‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ   ‚îÇ -- –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–æ --        ‚ñº ‚îÇ ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ   –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–µ—Å–ª–∏    ‚îÇ
‚îÇ   –ø—Ä–∏–≤—è–∑–∞–Ω–æ):                      ‚îÇ
‚îÇ   ‚îú‚îÄ –ï–¥–∏–Ω–∏—Ü–∞: ¬∞C                  ‚îÇ
‚îÇ   ‚îú‚îÄ –î–∏–∞–ø–∞–∑–æ–Ω: -10 –¥–æ 50¬∞C        ‚îÇ
‚îÇ   ‚îú‚îÄ –û–ø–∏—Å–∞–Ω–∏–µ: –î–∞—Ç—á–∏–∫ –≤ —Ç–µ–ø–ª–∏—Ü–µ   ‚îÇ
‚îÇ   ‚îî‚îÄ –¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: sensor       ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ ‚ñº –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (–ø–æ —Ç–∏–ø—É)           ‚îÇ
‚îÇ   Decimals: [1] (–¥–ª—è display)      ‚îÇ
‚îÇ   Format: [0.0 ‚ñº]                 ‚îÇ
‚îÇ                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –í–∞–∂–Ω–æ: –ë–ï–ó —Ä–µ–∞–ª—Ç–∞–π–º–∞ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

**–ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ–º:**
- ‚ùå –ü–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç –¥–∞—Ç—á–∏–∫–∞
- ‚ùå –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- ‚ùå Live –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ:**
- ‚úÖ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–µ–¥–∏–Ω–∏—Ü–∞, –¥–∏–∞–ø–∞–∑–æ–Ω, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–∏–ø)
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–ü—Ä–∏—á–∏–Ω–∞:** –†–µ–∞–ª—Ç–∞–π–º –¥–∞–Ω–Ω—ã–µ - —ç—Ç–æ –∑–∞–¥–∞—á–∞ Dashboard'–∞ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞, –Ω–µ –∞–¥–º–∏–Ω–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–Ω–µ–ª–∏

```javascript
// properties-panel.js
showWidgetProperties(widget) {
  const category = widget.getCategory();
  const html = `
    <div class="properties-panel">
      <h3>–°–≤–æ–π—Å—Ç–≤–∞ –≤–∏–¥–∂–µ—Ç–∞</h3>
      
      <section class="prop-section">
        <h4>–û–±—â–∏–µ</h4>
        <div class="prop-item">
          <label>ID:</label>
          <input type="text" value="${widget.id}" disabled>
        </div>
        <div class="prop-item">
          <label>–¢–∏–ø:</label>
          <input type="text" value="${widget.type}" disabled>
        </div>
        <div class="prop-item">
          <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
          <input type="text" value="${category} (${this.getCategorySymbol(category)})" disabled>
        </div>
        <div class="prop-item">
          <label>–ù–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏:</label>
          <input type="text" value="${imageManager.getImage(widget.imageId).name}" disabled>
        </div>
      </section>
      
      <section class="prop-section">
        <h4>–ü–æ–∑–∏—Ü–∏—è –∏ —Ä–∞–∑–º–µ—Ä</h4>
        <div class="prop-row">
          <div class="prop-item">
            <label>X:</label>
            <input type="number" value="${Math.round(widget.x)}" onchange="updateWidgetPosition()">
          </div>
          <div class="prop-item">
            <label>Y:</label>
            <input type="number" value="${Math.round(widget.y)}" onchange="updateWidgetPosition()">
          </div>
        </div>
        <div class="prop-row">
          <div class="prop-item">
            <label>–®–∏—Ä–∏–Ω–∞:</label>
            <input type="number" value="${widget.width}" onchange="updateWidgetSize()">
          </div>
          <div class="prop-item">
            <label>–í—ã—Å–æ—Ç–∞:</label>
            <input type="number" value="${widget.height}" onchange="updateWidgetSize()">
          </div>
        </div>
      </section>
      
      <section class="prop-section">
        <h4>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</h4>
        <div class="prop-item">
          <label>–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞:</label>
          <input type="number" value="${widget.fontSize || 14}" onchange="updateStyle()">
        </div>
        <div class="prop-item">
          <label>–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞:</label>
          <input type="color" value="${widget.color || '#000000'}" onchange="updateStyle()">
        </div>
      </section>
      
      <section class="prop-section">
        <h4>–ü—Ä–∏–≤—è–∑–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</h4>
        <select onchange="onDeviceSelected(event)">
          <option value="">-- –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–æ --</option>
          ${this.getAvailableDevices().map(device => `
            <option value="${device.id}" ${widget.bindingId === device.id ? 'selected' : ''}>
              ${device.name}
            </option>
          `).join('')}
        </select>
        
        ${widget.bindingId ? `
          <div class="metadata-display">
            <h5>–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:</h5>
            <p>–ï–¥–∏–Ω–∏—Ü–∞: <strong>${this.getDeviceMetadata(widget.bindingId).unit}</strong></p>
            <p>–î–∏–∞–ø–∞–∑–æ–Ω: <strong>${this.getDeviceMetadata(widget.bindingId).min} - ${this.getDeviceMetadata(widget.bindingId).max}</strong></p>
            <p>–û–ø–∏—Å–∞–Ω–∏–µ: <strong>${this.getDeviceMetadata(widget.bindingId).description}</strong></p>
            <p>–¢–∏–ø: <strong>${this.getDeviceMetadata(widget.bindingId).type}</strong></p>
          </div>
        ` : ''}
      </section>
      
      ${this.getTypeSpecificPropertiesHTML(widget)}
    </div>
  `;
  
  document.getElementById('properties-panel').innerHTML = html;
}

getTypeSpecificPropertiesHTML(widget) {
  const type = widget.type;
  
  if (type === 'number-display') {
    return `
      <section class="prop-section">
        <h4>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–∏—Å–ø–ª–µ—è</h4>
        <div class="prop-item">
          <label>Decimals:</label>
          <input type="number" value="${widget.decimals || 1}" onchange="updateTypeProps()">
        </div>
        <div class="prop-item">
          <label>Format:</label>
          <select onchange="updateTypeProps()">
            <option value="0.0" ${widget.format === '0.0' ? 'selected' : ''}>0.0</option>
            <option value="0.00" ${widget.format === '0.00' ? 'selected' : ''}>0.00</option>
            <option value="0.000" ${widget.format === '0.000' ? 'selected' : ''}>0.000</option>
          </select>
        </div>
      </section>
    `;
  }
  
  if (type === 'number-input') {
    return `
      <section class="prop-section">
        <h4>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–≤–æ–¥–∞</h4>
        <div class="prop-item">
          <label>Min:</label>
          <input type="number" value="${widget.min || 0}" onchange="updateTypeProps()">
        </div>
        <div class="prop-item">
          <label>Max:</label>
          <input type="number" value="${widget.max || 100}" onchange="updateTypeProps()">
        </div>
        <div class="prop-item">
          <label>Step:</label>
          <input type="number" value="${widget.step || 1}" onchange="updateTypeProps()">
        </div>
      </section>
    `;
  }
  
  return '';
}
```

---

## 5. –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø –ò –ü–†–ê–í–ò–õ–ê

### –î—Ä–∞–≥ –≤–∏–¥–∂–µ—Ç–æ–≤

‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ: –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è  
‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π drag –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –≥—Ä–∞–Ω–∏—Ü  
‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ: –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤–Ω–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è  
‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ: –ü–µ—Ä–µ—Ç—è–≥–∏–≤–∞–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ  

### –†–∞–∑–º–µ—â–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

‚úÖ –í–∏–¥–∂–µ—Ç—ã –¥–≤–∏–∂—É—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º  
‚úÖ –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è  
‚úÖ –ü—Ä–∏ —Ä–µ—Å–∞–π–∑–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∏–¥–∂–µ—Ç—ã –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è

### –°–ª–æ–∏ (Z-–ø–æ—Ä—è–¥–æ–∫)

```
—Å–ª–æ–π 4: Handles (–∫—Ä–µ—Å—Ç–∏–∫–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
—Å–ª–æ–π 3: Widgets (–≤—ã—à–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
—Å–ª–æ–π 2: Connections (–ª–∏–Ω–∏–∏)
—Å–ª–æ–π 1: Images (–≤–Ω–∏–∑—É)
```

–í–∏–¥–∂–µ—Ç—ã –í–°–ï–ì–î–ê –≤–∏–¥–Ω—ã –Ω–∞–¥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏.

---

## 6. –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ö–û–î–ê

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã

```
public/js/
‚îú‚îÄ‚îÄ widget-manager.js          (—è–¥—Ä–æ - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞–º–∏)
‚îú‚îÄ‚îÄ widget-types.js            (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤)
‚îú‚îÄ‚îÄ context-menu.js            (–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é)
‚îú‚îÄ‚îÄ properties-panel.js        (–ø–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤)
‚îú‚îÄ‚îÄ image-manager.js           (–æ–±–Ω–æ–≤–∏—Ç—å - –ø—Ä–∏–≤—è–∑–∞—Ç—å –º–µ–Ω—é)
‚îî‚îÄ‚îÄ selection-manager.js       (–æ–±–Ω–æ–≤–∏—Ç—å - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏–¥–∂–µ—Ç–æ–≤)
```

### WidgetManager

```javascript
class WidgetManager {
  constructor(layer, imageManager) {
    this.layer = layer;
    this.imageManager = imageManager;
    this.widgets = [];
  }
  
  create(config) {
    // –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –≤–∏–¥–∂–µ—Ç
    // –î–æ–±–∞–≤–∏—Ç—å –Ω–∞ —Å–ª–æ–π
    // –ü—Ä–∏–≤—è–∑–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ dragging
    // –í–µ—Ä–Ω—É—Ç—å –æ–±—ä–µ–∫—Ç widget
  }
  
  delete(widgetId) {
    // –£–¥–∞–ª–∏—Ç—å –≤–∏–¥–∂–µ—Ç
  }
  
  getWidget(widgetId) {
    // –ü–æ–ª—É—á–∏—Ç—å –æ–±—ä–µ–∫—Ç –≤–∏–¥–∂–µ—Ç–∞
  }
  
  getWidgetsByImageId(imageId) {
    // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –≤–∏–¥–∂–µ—Ç—ã –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏
  }
  
  updatePosition(widgetId, x, y) {
    // –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é (—Å –≥—Ä–∞–Ω–∏—á–Ω—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏)
  }
  
  updateSize(widgetId, width, height) {
    // –û–±–Ω–æ–≤–∏—Ç—å —Ä–∞–∑–º–µ—Ä
  }
  
  updateBinding(widgetId, deviceId) {
    // –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–≤—è–∑–∫—É –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É
  }
  
  onImageMove(imageId, deltaX, deltaY) {
    // –ü—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –¥–≤–∏–Ω—É—Ç—å –µ–≥–æ –≤–∏–¥–∂–µ—Ç—ã
  }
  
  onImageResize(imageId, newWidth, newHeight) {
    // –ü—Ä–∏ —Ä–µ—Å–∞–π–∑–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–∂–µ—Ç—ã
  }
}
```

---

## 7. –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò –ü–û –ò–¢–ï–†–ê–¶–ò–Ø–ú

### –ò—Ç–µ—Ä–∞—Ü–∏—è 1: –û—Å–Ω–æ–≤—ã Display –≤–∏–¥–∂–µ—Ç–æ–≤ (3 –¥–Ω—è)

**–¶–µ–ª—å:** –ü–µ—Ä–≤—ã–µ Display —Ç–∏–ø—ã (–≤—ã–≤–æ–¥ —Ç–æ–ª—å–∫–æ, –±–µ–∑ –≤–≤–æ–¥–∞)

**–í–∏–¥–∂–µ—Ç—ã –≤ —ç—Ç–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏:**
- ‚úÖ number-display
- ‚úÖ text-display
- ‚úÖ led
- ‚úÖ gauge

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å `WidgetManager` –∫–ª–∞—Å—Å
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `create()` - —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `delete()` - —É–¥–∞–ª–µ–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞
- [ ] –ë–∞–∑–æ–≤–∞—è Konva –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
- [ ] –ü—Ä–∏–≤—è–∑–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∫ ImageManager (—Ç–æ–ª—å–∫–æ —ç—Ç–∏ 4 —Ç–∏–ø–∞)
- [ ] –ë–∞–∑–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ (–ø–æ–∑–∏—Ü–∏—è, —Ä–∞–∑–º–µ—Ä, –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ)
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: —Å–æ–∑–¥–∞—Ç—å –ø–æ –æ–¥–Ω–æ–º—É –∫–∞–∂–¥–æ–º—É —Ç–∏–ø—É

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ 4 Display —Ç–∏–ø–∞ –≤–∏–¥–Ω—ã –Ω–∞ —ç–∫—Ä–∞–Ω–µ
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í–∏–¥–∂–µ—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è
- ‚úÖ –ü–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

**–§–∞–π–ª—ã:**
- `public/js/widget-manager.js` - –Ω–æ–≤—ã–π
- `public/js/widget-types.js` - –Ω–æ–≤—ã–π (DISPLAY —Ç–∏–ø—ã)
- `public/js/context-menu.js` - –Ω–æ–≤—ã–π
- `public/js/image-manager.js` - –æ–±–Ω–æ–≤–∏—Ç—å (–º–µ–Ω—é —Å 4 —Ç–∏–ø–∞–º–∏)
- `public/js/properties-panel.js` - –Ω–æ–≤—ã–π (–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)
- `public/js/selection-manager.js` - –æ–±–Ω–æ–≤–∏—Ç—å

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 2: –ü–æ–∑–∏—Ü–∏—è, —Ä–∞–∑–º–µ—Ä, –≤—ã–¥–µ–ª–µ–Ω–∏–µ (2 –¥–Ω—è)

**–¶–µ–ª—å:** –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤

**–ó–∞–¥–∞—á–∏:**
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `updatePosition()` —Å –≥—Ä–∞–Ω–∏—á–Ω—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `updateSize()`
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SelectionManager (–≤—ã–±–æ—Ä –≤–∏–¥–∂–µ—Ç–∞)
- [ ] –†–∞–∑–≤—ë—Ä–Ω—É—Ç–∞—è –ø–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ (–ø–æ–∑–∏—Ü–∏—è, —Ä–∞–∑–º–µ—Ä, —Ü–≤–µ—Ç)
- [ ] –ü–∞–Ω–µ–ª—å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –≤–∏–¥–∂–µ—Ç–∞
- [ ] –ü–µ—Ä–µ—Ç—è–≥–∏–≤–∞–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –ø–æ–ª–Ω—ã–π workflow –≤—ã–±–æ—Ä–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í—ã–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞
- ‚úÖ –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –ø–æ–∑–∏—Ü–∏—é –∏ —Ä–∞–∑–º–µ—Ä —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å –∏ —á–µ—Ä–µ–∑ drag

**–§–∞–π–ª—ã:**
- `public/js/widget-manager.js` - –æ–±–Ω–æ–≤–∏—Ç—å (drag, –≥—Ä–∞–Ω–∏—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏)
- `public/js/properties-panel.js` - –æ–±–Ω–æ–≤–∏—Ç—å (–ø–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è)
- `public/js/selection-manager.js` - –æ–±–Ω–æ–≤–∏—Ç—å (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞)

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 3: Input –≤–∏–¥–∂–µ—Ç—ã (2 –¥–Ω—è)

**–¶–µ–ª—å:** –¢–∏–ø—ã –¥–ª—è –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö

**–í–∏–¥–∂–µ—Ç—ã –≤ —ç—Ç–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏:**
- ‚úÖ number-input
- ‚úÖ text-input

**–ó–∞–¥–∞—á–∏:**
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±–∞ Input —Ç–∏–ø–∞ –≤ Konva
- [ ] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è: —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –Ω–∞ —Å—Ö–µ–º–µ
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è HTML input –≤–Ω—É—Ç—Ä–∏ Konva
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–ª–∞—Å—Å–∞ InputWidget
- [ ] –ü–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã min/max/step –¥–ª—è number-input
- [ ] –ü–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤: maxLength/pattern –¥–ª—è text-input
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é (–≤—Å–µ–≥–æ 6 —Ç–∏–ø–æ–≤)
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–≤–µ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≥—Ä–∞–Ω–∏—á–Ω—ã–µ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Input —Ç–∏–ø—ã –≤–∏–¥–Ω—ã –Ω–∞ —ç–∫—Ä–∞–Ω–µ
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∏–º–µ–µ—Ç 6 —Ç–∏–ø–æ–≤

**–§–∞–π–ª—ã:**
- `public/js/widget-types.js` - –æ–±–Ω–æ–≤–∏—Ç—å (INPUT —Ç–∏–ø—ã)
- `public/js/widget-manager.js` - –æ–±–Ω–æ–≤–∏—Ç—å (INPUT –≤–∏–¥–∂–µ—Ç—ã)
- `public/js/properties-panel.js` - –æ–±–Ω–æ–≤–∏—Ç—å (INPUT –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
- `public/js/image-manager.js` - –æ–±–Ω–æ–≤–∏—Ç—å (–º–µ–Ω—é —Å 6 —Ç–∏–ø–∞–º–∏)

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 4: Control –≤–∏–¥–∂–µ—Ç—ã (2 –¥–Ω—è)

**–¶–µ–ª—å:** –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–í–∏–¥–∂–µ—Ç—ã –≤ —ç—Ç–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏:**
- ‚úÖ toggle
- ‚úÖ button
- ‚úÖ slider

**–ó–∞–¥–∞—á–∏:**
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç—Ä–∏ Control —Ç–∏–ø–∞
- [ ] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
- [ ] –ö–ª–∏–∫/drag –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
- [ ] –§–∏–¥–±–µ–∫ (–∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–∏)
- [ ] –ü–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é (–≤—Å–µ–≥–æ 9 —Ç–∏–ø–æ–≤)
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ñ–∏–¥–±–µ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í—Å–µ 9 —Ç–∏–ø–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã
- ‚úÖ Control –≤–∏–¥–∂–µ—Ç—ã –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –ø–æ–ª–Ω–æ–µ

**–§–∞–π–ª—ã:**
- `public/js/widget-types.js` - –æ–±–Ω–æ–≤–∏—Ç—å (CONTROL —Ç–∏–ø—ã)
- `public/js/widget-manager.js` - –æ–±–Ω–æ–≤–∏—Ç—å (CONTROL –≤–∏–¥–∂–µ—Ç—ã)
- `public/js/properties-panel.js` - –æ–±–Ω–æ–≤–∏—Ç—å (CONTROL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
- `public/js/image-manager.js` - –æ–±–Ω–æ–≤–∏—Ç—å (–º–µ–Ω—é —Å 9 —Ç–∏–ø–∞–º–∏)

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 5: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ (2 –¥–Ω—è)

**–¶–µ–ª—å:** –í–∏–¥–∂–µ—Ç—ã –¥–≤–∏–∂—É—Ç—Å—è –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

**–ó–∞–¥–∞—á–∏:**
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `onImageMove()` - –≤–∏–¥–∂–µ—Ç—ã —Å–ª–µ–¥—É—é—Ç –∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `onImageResize()` - –≤–∏–¥–∂–µ—Ç—ã –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è
- [ ] –°–æ—Ö—Ä–∞–Ω—è—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ImageManager
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí –≤–∏–¥–∂–µ—Ç—ã –¥–≤–∏–∂—É—Ç—Å—è
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ä–µ—Å–∞–π–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí –≤–∏–¥–∂–µ—Ç—ã –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: —É–¥–∞–ª–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí –≤–∏–¥–∂–µ—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í–∏–¥–∂–µ—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- ‚úÖ –ü—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏/—Ä–µ—Å–∞–π–∑–µ/—É–¥–∞–ª–µ–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∏–¥–∂–µ—Ç—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

**–§–∞–π–ª—ã:**
- `public/js/widget-manager.js` - –æ–±–Ω–æ–≤–∏—Ç—å (—Å–∏–Ω—Ö—Ä–æ)
- `public/js/image-manager.js` - –æ–±–Ω–æ–≤–∏—Ç—å (—Ç—Ä–∏–≥–≥–µ—Ä—ã)

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 6: –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º (2 –¥–Ω—è)

**–¶–µ–ª—å:** –°–≤—è–∑—å –≤–∏–¥–∂–µ—Ç–æ–≤ —Å ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

**–ó–∞–¥–∞—á–∏:**
- [ ] –ó–∞–≥—Ä—É–∑–∏—Ç—å devices-registry.json (mock —Ñ–∞–π–ª)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `updateBinding()`
- [ ] –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ –ø–∞–Ω–µ–ª–∏ —Å–≤–æ–π—Å—Ç–≤
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–µ–¥–∏–Ω–∏—Ü–∞, –¥–∏–∞–ø–∞–∑–æ–Ω, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–∏–ø)
- [ ] **–ë–ï–ó —Ä–µ–∞–ª—Ç–∞–π–º** - —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- [ ] –û—Ç–≤—è–∑–∫–∞ –≤–∏–¥–∂–µ—Ç–∞ (–≤—ã–±—Ä–∞—Ç—å "–Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–æ")
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –ø—Ä–∏–≤—è–∑–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- ‚úÖ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- ‚úÖ –ü—Ä–∏–≤—è–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏

**–§–∞–π–ª—ã:**
- `public/js/properties-panel.js` - –æ–±–Ω–æ–≤–∏—Ç—å (–≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫)
- `public/js/widget-manager.js` - –æ–±–Ω–æ–≤–∏—Ç—å (bindingId)
- `public/js/ui-controller.js` - –æ–±–Ω–æ–≤–∏—Ç—å (–∑–∞–≥—Ä—É–∑–∫–∞ devices-registry)
- `backend/config/devices-registry.json` - –Ω–æ–≤—ã–π (mock)

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 7: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ –ø–æ–ª–∏—Ä–æ–≤–∫–∞ (2 –¥–Ω—è)

**–¶–µ–ª—å:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ, –≥–æ—Ç–æ–≤–æ –∫ save/load

**–ó–∞–¥–∞—á–∏:**
- [ ] –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ workflow'–∞ (—Å–æ–∑–¥–∞–Ω–∏–µ ‚Üí —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ)
- [ ] Edge cases (—É–¥–∞–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –≤–∏–¥–∂–µ—Ç–∞–º–∏, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–≥—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è)
- [ ] –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞ (–∏–∫–æ–Ω–∫–∏, —Ü–≤–µ—Ç–∞, —à—Ä–∏—Ñ—Ç—ã, –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–º—è—Ç–∏ (–Ω–µ—Ç —É—Ç–µ—á–µ–∫ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏)
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- [ ] –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≤–∏–¥–∂–µ—Ç–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞
- ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ save/load
- ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ backend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–§–∞–π–ª—ã:**
- –ü–æ–ª–∏—Ä–æ–≤–∫–∞ –ø–æ –≤—Å–µ–º —Ñ–∞–π–ª–∞–º

---

## 8. –¢–ê–ë–õ–ò–¶–ê –°–¢–ê–¢–£–°–ê

| –ò—Ç–µ—Ä–∞—Ü–∏—è | –§–æ–∫—É—Å | –î–Ω–∏ | –í–∏–¥–∂–µ—Ç—ã | –°—Ç–∞—Ç—É—Å |
|----------|-------|-----|---------|--------|
| 1 | Display (4 —Ç–∏–ø–∞) | 3 | number-display, text-display, led, gauge | ‚¨ú |
| 2 | –ü–æ–∑–∏—Ü–∏—è, —Ä–∞–∑–º–µ—Ä, –≤—ã–¥–µ–ª–µ–Ω–∏–µ | 2 | (–≤—Å–µ) | ‚¨ú |
| 3 | Input (2 —Ç–∏–ø–∞) | 2 | number-input, text-input | ‚¨ú |
| 4 | Control (3 —Ç–∏–ø–∞) | 2 | toggle, button, slider | ‚¨ú |
| 5 | –°–∏–Ω—Ö—Ä–æ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ | 2 | (–≤—Å–µ) | ‚¨ú |
| 6 | –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º | 2 | (–≤—Å–µ) | ‚¨ú |
| 7 | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ –ø–æ–ª–∏—Ä–æ–≤–∫–∞ | 2 | (–≤—Å–µ) | ‚¨ú |
| **–ò–¢–û–ì–û** | **–í–∏–¥–∂–µ—Ç—ã –≥–æ—Ç–æ–≤—ã** | **15** | **9 —Ç–∏–ø–æ–≤** | ‚¨ú |

---

## 9. –í–ê–ñ–ù–´–ï –ú–û–ú–ï–ù–¢–´

### ‚úÖ –ó–∞–ø–æ–º–Ω–∏—Ç—å

1. **–ë–ï–ó —Ä–µ–∞–ª—Ç–∞–π–º–∞ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ** - —Ç–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –Ω–µ –∂–∏–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
2. **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é** - –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é, –±–µ–∑ –≤—ã–¥–µ–ª–µ–Ω–∏—è
3. **–ê–≤—Ç–æ–≤—ã–±–æ—Ä –≤–∏–¥–∂–µ—Ç–∞** - –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è
4. **–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã** - –ø—Ä–∏ —Ä–µ—Å–∞–π–∑–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∏–¥–∂–µ—Ç—ã –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è
5. **–°–ª–æ–π –≤–∏–¥–∂–µ—Ç–æ–≤** - –≤—Å–µ–≥–¥–∞ –≤—ã—à–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
6. **–ì—Ä–∞–Ω–∏—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏** - –≤–∏–¥–∂–µ—Ç—ã –Ω–µ –≤—ã—Ö–æ–¥—è—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
7. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –≤–∏–¥–∂–µ—Ç—ã –¥–≤–∏–∂—É—Ç—Å—è –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
8. **9 —Ç–∏–ø–æ–≤ –≤–∏–¥–∂–µ—Ç–æ–≤** - 4 Display (R) + 2 Input (W) + 3 Control (RW)
9. **–†–∞–∑–Ω—ã–µ –∫–ª–∞—Å—Å—ã** - –∫–∞–∂–¥—ã–π —Ç–∏–ø –≤ —Å–≤–æ—ë–º –∫–ª–∞—Å—Å–µ, –Ω–∞—Å–ª–µ–¥—É–µ—Ç –±–∞–∑–æ–≤—ã–π Widget
10. **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∞–º** - Display –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ, Input –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –≤–≤–æ–¥

### ‚ùå –ò–∑–±–µ–∂–∞—Ç—å

- ‚ùå –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON –Ω–∞ —ç—Ç–æ–π —Ñ–∞–∑–µ
- ‚ùå Backend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (MQTT, WebSocket)
- ‚ùå –†–µ–∞–ª—Ç–∞–π–º –¥–∞–Ω–Ω—ã–µ –æ—Ç –¥–∞—Ç—á–∏–∫–æ–≤
- ‚ùå –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ Display + Input –≤ –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- ‚ùå –í–∏–¥–∂–µ—Ç—ã –≤—ã—Ö–æ–¥—è—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- ‚ùå –†–µ–∞–ª—Ç–∞–π–º –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–∞–Ω–µ–ª–∏ —Å–≤–æ–π—Å—Ç–≤ –∞–¥–º–∏–Ω–∞

---

## 10. TESTING CHECKLIST

### –ò—Ç–µ—Ä–∞—Ü–∏—è 1
- [ ] –°–æ–∑–¥–∞—Ç—å 4 Display —Ç–∏–ø–∞ ‚Üí –≤—Å–µ –≤–∏–¥–Ω—ã
- [ ] –£–¥–∞–ª–∏—Ç—å –≤–∏–¥–∂–µ—Ç ‚Üí –ø—Ä–æ–ø–∞–ª
- [ ] –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –ø—Ä–∏ –ü–ö–ú –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- [ ] –í—ã–±—Ä–∞—Ç—å —Ç–∏–ø ‚Üí –≤–∏–¥–∂–µ—Ç —Å–æ–∑–¥–∞–Ω

### –ò—Ç–µ—Ä–∞—Ü–∏—è 2
- [ ] –í—ã–±—Ä–∞—Ç—å –≤–∏–¥–∂–µ—Ç ‚Üí –ø–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
- [ ] –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏—é ‚Üí –≤–∏–¥–∂–µ—Ç –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª—Å—è
- [ ] –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä ‚Üí –≤–∏–¥–∂–µ—Ç –∏–∑–º–µ–Ω–∏–ª —Ä–∞–∑–º–µ—Ä
- [ ] –ü–µ—Ä–µ—Ç—è–Ω—É—Ç—å –∑–∞ –≥—Ä–∞–Ω–∏—Ü—É ‚Üí –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ

### –ò—Ç–µ—Ä–∞—Ü–∏—è 3
- [ ] –°–æ–∑–¥–∞—Ç—å number-input –∏ text-input
- [ ] –í–≤–µ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ì—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã

### –ò—Ç–µ—Ä–∞—Ü–∏—è 4
- [ ] –ö–ª–∏–∫–Ω—É—Ç—å toggle ‚Üí –º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- [ ] –ù–∞–∂–∞—Ç—å button ‚Üí –≤–∏–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ
- [ ] –ü–µ—Ä–µ—Ç—è–Ω—É—Ç—å slider ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ

### –ò—Ç–µ—Ä–∞—Ü–∏—è 5
- [ ] –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí –≤–∏–¥–∂–µ—Ç—ã –¥–≤–∏–∂—É—Ç—Å—è
- [ ] –†–µ—Å–∞–π–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí –≤–∏–¥–∂–µ—Ç—ã –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è
- [ ] –£–¥–∞–ª–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí –≤–∏–¥–∂–µ—Ç—ã –∏—Å—á–µ–∑–∞—é—Ç

### –ò—Ç–µ—Ä–∞—Ü–∏—è 6
- [ ] –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- [ ] –í—ã–±—Ä–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ ‚Üí –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–æ—è–≤–∏–ª–∏—Å—å
- [ ] –†–∞–∑–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ —Ä–∞–∑–Ω—ã–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º

### –ò—Ç–µ—Ä–∞—Ü–∏—è 7
- [ ] –ü–æ–ª–Ω—ã–π workflow (—Å–æ–∑–¥–∞–Ω–∏–µ ‚Üí —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ)
- [ ] –ù–µ—Ç –∫–æ–Ω—Å–æ–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫
- [ ] –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
- [ ] UI –æ—Ç–∑—ã–≤—á–∏–≤

---

## 11. –ö–õ–Æ–ß–ï–í–´–ï –§–ê–ô–õ–´ –î–õ–Ø –†–ê–ó–†–ê–ë–û–¢–ö–ò

```
public/js/
‚îú‚îÄ‚îÄ widget-manager.js          ‚Üê –ù–û–í–´–ô (—è–¥—Ä–æ)
‚îú‚îÄ‚îÄ widget-types.js            ‚Üê –ù–û–í–´–ô (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ 9 —Ç–∏–ø–æ–≤)
‚îú‚îÄ‚îÄ context-menu.js            ‚Üê –ù–û–í–´–ô (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ –º–µ–Ω—é)
‚îú‚îÄ‚îÄ image-manager.js           ‚Üê –ü–†–ê–í–ò–¢–¨ (–ø—Ä–∏–≤—è–∑–∞—Ç—å –º–µ–Ω—é)
‚îú‚îÄ‚îÄ selection-manager.js       ‚Üê –ü–†–ê–í–ò–¢–¨ (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏–¥–∂–µ—Ç–æ–≤)
‚îú‚îÄ‚îÄ properties-panel.js        ‚Üê –ù–û–í–´–ô (–ø–æ–ª–Ω–∞—è –ø–∞–Ω–µ–ª—å)
‚îî‚îÄ‚îÄ ui-controller.js           ‚Üê –ü–†–ê–í–ò–¢–¨ (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)

backend/config/
‚îú‚îÄ‚îÄ devices-registry.json      ‚Üê –ù–û–í–´–ô (mock –¥–ª—è —ç—Ç–∞–ø–∞)
```

---

## NEXT STEPS

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö 7 –∏—Ç–µ—Ä–∞—Ü–∏–π (15 –¥–Ω–µ–π):

1. **–§–∞–∑–∞ 2: Save/Load** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ schema.json + bindings.json
2. **–§–∞–∑–∞ 3: Backend** - MQTT, WebSocket, API
3. **–§–∞–∑–∞ 4: Dashboard** - –æ–ø–µ—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç live –¥–∞–Ω–Ω—ã–µ

–°–∏—Å—Ç–µ–º–∞ –≤–∏–¥–∂–µ—Ç–æ–≤ –≥–æ—Ç–æ–≤–∞ –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ –¥–ª—è –ø–æ–ª–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã.
